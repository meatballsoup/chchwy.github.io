<!doctype html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=PT+Serif:400,700' />
  <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="css/hemisu-dark.css" />
  <link rel="stylesheet" type="text/css" href="css/my-style.css" />
  <link rel="stylesheet" type="text/css" href="css/my-gist.css">

  <title>調和的靈感</title>

  <style type="text/css">
   body { background-color: #eee; }
  .post-body { }
  .post-body { line-height: 1.8em; }
  .page-title { margin: 0; }
  </style>
</head>
<body>

  <!-- ONly search Navbar ===========  -->
<div class="navbar navbar-static-top navbar-inverse">
  <div class="navbar-inner">
    <div class="container">
      <!-- <a class="brand" href="http://chchwy.github.com/">調和的靈感</a> -->

      <form class="navbar-search pull-right" action="">
        <input type="text" class="search-query" placeholder="Search">
      </form>
    </div>
  </div>
</div>

  <div class="container">

    <br />
    <!-- Header ======================= -->
    <header>
    <div class="well row">
      <div class="span6">
        <h1 style="margin-bottom: 9px; font-size: 36px; line-height:1;">Matthew</h1>
        <small>調和的靈感 - 記錄我的心得、程式解題、以及讀書心得的地方。<br />
          Blogging Like a Hacker.<small>
      </div>
      <div class="span2 pull-right">
      <img src="img/icon/glyphicons_417_rss.png" />
      <img src="img/icon/glyphicons_411_twitter.png" />
      <!-- <img src="img/ic-icon/speach_bubble.png" /> -->
      </div>
    </div>
    </header>

    <!-- Post body ======================= -->
    <div class="row">

    <!-- Post body ======================= -->

<div class="span8">



  <section class="post">

    <div class="page-header row">
      <h1 class="post-title">
        <a href="/2012/10/objc-note-string.html">
        從C++到Objective-C: (1) 字串兩三事
        </a>
      </h1>

      <div class="span2 pull-right">
      <small>19 October 2012</small>
      </div>
    </div>

    <div class="post-body"><p>這是我自己學習Objective-C中記錄下來的筆記，有時會參雜一些與其他語言互相的比較。</p>

<h3>字串</h3>

<p>典型的C字串的型態是<code>const char[]</code>，比如說下面就是個C字串</p>

<pre class="prettyprint">const char str[] = "This is a C string";</pre>


<p>但是Objective-C有自己獨有的NSString字串，只要給字串常數的開頭冠上一個@符號，如:</p>

<pre class="prettyprint">NSString* str = @"This is a Obj-c string";</pre>


<p>字串就被編譯器視為<code>NSString*</code>型態。</p>

<ul>
<li><p>NSString內容不可變，一旦創立之後就不能修改內容。如果需要修改字串的內容，請改用NSMutableString。(類似Java的String與StringBuilder的關係，基本上是效能考量）</p></li>
<li><p>NSString內部採用了UTF-16編碼儲存字串，由characterAtIndex:方法的回傳值可以發現，
字串內的單一字元型態是unichar，而unichar又被定義為unsigned short (2 bytes)。</p></li>
<li><p>NSString可以透過<code>cStringWithEncoding:</code>方法轉為其他編碼的字串，
也可以用<code>initWithCstring:Encoding:</code>把其他編碼的字串轉為NSString。</p></li>
<li><p>UTF-8編碼因為太常用，所以有獨立的<code>initWithUTF8String:</code>和<code>UTF8String</code>方法。</p></li>
<li><p>LLVM 4.0 將C字串快速封裝為NSString的短語法</p></li>
</ul>


<pre class="prettyprint">
 const char cStr[] = "Hello world.";
 NSString* myStr = @(cStr); //新語法
 NSString* myStr = [NSString stringWithUTF8String:cStr); //舊語法
 //兩者效力相等。
</pre>


<h3>NSLog</h3>

<ul>
<li><p>打印函數NSLog()沿襲了printf()的那一套格式化字串(%d,%f,%s)，唯一額外添加的符號是<code>%@</code>，專門用來印NSString及NSObject物件。例如: <code>NSLog("Hello, %@", @"David");</code>。</p></li>
<li><p>使用<code>%@</code>符號打印NSObject物件時，背地裡其實呼叫了description方法來輸出字串，所以複寫description方法就可以訂製輸出文字。像打印NSArray、NSDictionary時可以看見陣列與字典的內容，就是因為它們都自訂了輸出文字。</p></li>
<li><p>NSLog()輸出到stderr，而不是stdout。</p></li>
</ul>


<h3>讀寫檔案與URL</h3>

<ul>
<li><p>NSString雖然只是個字串類別，但是自帶了很多有趣強大的方法，
像是懶人一行讀檔<code>stringWithContentsOfFile:encoding:error:</code>，只要一行就搞定了開檔跟讀取內容。(這種懶人讀檔我只在PHP裡看過)</p></li>
<li><p>當然，也有一行寫檔<code>writeToFile:atomically:encoding:error:</code>。</p></li>
<li><p>還有一行抓HTML網頁<code>stringWithContentsOfURL:encoding:error:</code>。</p></li>
</ul>


<!--
### 檔案路徑操作

參考來源:
- [各種Objective-C新列表及支援版本][1]
- [Objective-C字面常數][2]


[1]: http://developer.apple.com/library/ios/#releasenotes/ObjectiveC/ObjCAvailabilityIndex/_index.html "Objective-C Feature Available."
[2]: http://clang.llvm.org/docs/ObjectiveCLiterals.html "Objective-C new literal"

-->



</div>

    <div class="post-tag">
      Tags: Objective-C
    </div>
  </section>

  <hr style="border: dashed 1px #ccc;" />



  <section class="post">

    <div class="page-header row">
      <h1 class="post-title">
        <a href="/2007/12/uva-100-3n%2B1.html">
        UVa 100 3n+1
        </a>
      </h1>

      <div class="span2 pull-right">
      <small>02 December 2007</small>
      </div>
    </div>

    <div class="post-body"><p>這題應該是很多人的第一題ACM吧，只要老老實實按照題目指示做就沒問題了，
唯一必須要小心的是題目給的(a,b)數字不一定是a小b大，也可能是a大b小，
十個WA裡大概有九個半都是栽在這裡，聽說新版的題目敘述已經把這條潛規則補上了?
反正只要能通過下面的關鍵測資就沒問題囉:</p>

<blockquote><p>輸入 1 10 應該印出 1 10 20 <br />
輸入 10 1 應該印出 10 1 20</p></blockquote>

<p>把cycle length的計算抽出來作一個獨立的函數的話，程式會清晰很多。</p>

<script src="https://gist.github.com/4076896.js?file=100.cpp"></script>




<!--


<p class="tags">
    Tagged: UVa Online Judge
</p>

-->

</div>

    <div class="post-tag">
      Tags: UVa Online Judge
    </div>
  </section>

  <hr style="border: dashed 1px #ccc;" />


</div>

    <!-- Side bar ======================== -->
    <div class="span4">

      <ul class="nav nav-tabs nav-stacked">
         <li><a href="#">文章目錄</a></li>
          <li class="divider-vertical"></li>
          <li><a href="#">ACM解題</a></li>
          <li class="divider-vertical"></li>
          <li><a href="#">讀書閒話</a></li>
          <li class="divider-vertical"></li>
      </ul>

      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="160" height="130" codebase="http://fpdownload.adobe.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"><param name="allowScriptAccess" value="always" /><param name="movie" value="http://www.uniqlo.jp/uniqlock/swf/blog_small.swf?user_id=6qYHZzS3l2MlujAn" /><param name="base" value="." /><param name="quality" value="high" /><param name="wmode" value="transparent" /><embed src="http://www.uniqlo.jp/uniqlock/swf/blog_small.swf?user_id=6qYHZzS3l2MlujAn" width="160" height="130" allowScriptAccess="always" base = "." quality="high" wmode="transparent" pluginspage="http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" /></object>
    </div>

    </div>

  </div>

  <script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-5266256-5");
      pageTracker._trackPageview();
    } catch(err) {}
</script>

  <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/prettify.js"></script>
  <script type="text/javascript">
  // 原先的Gist Theme太醜了，而且不支援黑底
  $(function(){
    prettyPrint();
    $(".gist-syntax").removeClass("gist-syntax");
    $(".gist-file").removeClass("gist-file");
    $(".gist").addClass("my-gist");
    $(".gist").css("color", "#eee");
  });
  </script>
</body>
</html>